# Регистр

Регистр - это хранилище информации, представленное защищённым массивом.
 
Потребность в регистре возникает тогда, когда ваше приложение может запоминать некоторые промежуточные данные. Например, вы решили посчитать некоторое число при инициализации Детемиро,  а затем вывести его в шаблоне. Это число вы запомните в регистре и в шаблоне уже получите и напечатаете.

## <a name="realisation"></a>Реализация
Регистр для ядра представлен классом [registry](https://docs.detemiro.org/api/classes/detemiro.registry.html), 
и его объект находится в поле [$registry](https://docs.detemiro.org/api/classes/detemiro.html#property_registry), внутри класса *detemiro*.

## <a name="examples"></a>Примеры использования
Установим счётчик в регистре под ключом `stat` вызовов функции test, затем заблокируем его, попытаемся изменить, выводя промежуточные результаты.

~~~~php
function test() {
    // Получение ключа
    $i = detemiro::registry()->get('stat');
    
    if($i === null) {
        $i = 1;
    }
    else {
        $i++;
    }
    
    // Установка ключа
    if(detemiro::registry()->set('stat', $i)) {
        echo $i . ';';
    }
}

for($i = 0; $i < 5; $i++) {
    test();
}

// Блокировка ключа
detemiro::registry()->lock('stat');

test();
~~~~

**Выведет:**

~~~~
1;2;3;4;5;
~~~~

А теперь разблокируем и удалим ключ.

~~~~php
// Разблокируем
detemiro::registry()->unLock('stat');

// Удаляем
detemiro::registry()->remove('stat');

// Проверим удаление
echo (detemiro::registry()->exists('stat)) ? 'Не вышло.' : 'Успех!';
~~~~

Результат будет **Успех!**