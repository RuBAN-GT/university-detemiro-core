# Модуль для работы с БД и её таблицами

## Информация

* Код: *database*
* Версия: *1.0*
* Авторы: *DetemiroTM*

## Описание

Данный модуль предоставляет собой два класса:

* **dbActions** - используется для упрощённой работы с БД в прослойки над PDO.
* **data** - используется для упрощённой работы с таблицей БД из-за вызываемых обработчиков и использования класса *dbActions* для осуществления конечных операций (выборки, обновление и т.п.)

## Сервисы

Если в конфигурации присутствуют параметры с префиксом `database.`, то модуль создаст сервис `db`.  
Если конфигурация окажется неверной, то модуль не запустится (если она отсутствует, то сервис не появится, но модуль запустится).

## Варианты конфигурации

Класс *dbActions* принимает в конструктор следующие варианты параметров:

* PDO-строка конфигурации ([синтаксис на php.net](http://php.net/manual/ru/pdo.construct.php))
* Массив содержащий следующие ключи:
 * **config** - PDO-строка
 * **user** - логин пользователя бд
 * **pass** - пароль пользователя бд
 * **prefix** - префикс таблиц бд

Все эти поля можно указать в конфигурации *detemiro* с префиксом `database.`.  
Например: 

~~~~json
{
    "database.config" : "pgsql:host=localhost;dbname=db",
    "database.user"   : "myuser",
    "database.pass"   : "secret",
    "database.prefix" : "detemiro_"
}
~~~~

 
> Класс *data* принимает в конструктор объект *dbActions*.